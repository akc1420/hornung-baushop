!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/bundles/kzphsimplenote/",n(n.s="CHRc")}({"0MhZ":function(e){e.exports=JSON.parse("{}")},"1CRS":function(e,t){e.exports='<sw-entity-listing\n        v-if="fullyLoaded"\n        identifier="kzph-simplenote.dashboard.grid"\n        :repository="noteRepository"\n        :items="noteData"\n        :columns="noteColumns()"\n        :show-selection="false"\n        :allow-column-edit="false"\n        :disable-data-fetching="true"\n        :full-page="false"\n        @page-change="onPageChange"\n        >\n\n        <template slot="column-entityDestination" slot-scope="{ item }">\n            <router-link\n                v-if="item.entityType == \'customer\'"\n                :to="{ name: \'sw.customer.detail\', params: { id: item.entityId } }"   \n                class="sw-data-grid__cell-value">\n\n                <span v-if="item.destination">{{ $tc(\'kzph-simplenote-note.entities.\' + item.entityType) }}: {{ item.destination }}</span>\n                <span v-if="!item.destination">{{ $tc(\'kzph-simplenote-note.entities.\' + item.entityType) }}</span>\n            </router-link>\n\n            <router-link\n                v-if="item.entityType == \'product\'"\n                :to="{ name: \'sw.product.detail\', params: { id: item.entityId } }"\n                class="sw-data-grid__cell-value">\n\n                <span v-if="item.destination">{{ $tc(\'kzph-simplenote-note.entities.\' + item.entityType) }}: {{ item.destination }}</span>\n                <span v-if="!item.destination">{{ $tc(\'kzph-simplenote-note.entities.\' + item.entityType) }}</span>\n            </router-link>\n\n            <router-link\n                v-if="item.entityType == \'order\'"\n                :to="{ name: \'sw.order.detail\', params: { id: item.entityId } }"\n                class="sw-data-grid__cell-value">\n\n                <span v-if="item.destination">{{ $tc(\'kzph-simplenote-note.entities.\' + item.entityType) }}: {{ item.destination }}</span>\n                <span v-if="!item.destination">{{ $tc(\'kzph-simplenote-note.entities.\' + item.entityType) }}</span>\n            </router-link>\n\n            <router-link\n                v-if="item.entityType == \'category\'"\n                :to="{ name: \'sw.category.detail\', params: { id: item.entityId } }"\n                class="sw-data-grid__cell-value">\n\n                <span v-if="item.destination">{{ $tc(\'kzph-simplenote-note.entities.\' + item.entityType) }}: {{ item.destination }}</span>\n                <span v-if="!item.destination">{{ $tc(\'kzph-simplenote-note.entities.\' + item.entityType) }}</span>\n            </router-link>\n        </template>\n\n        <template slot="column-createdAt" slot-scope="{ item }">\n            {{ item.createdAt|date }}\n        </template>\n\n</sw-entity-listing>\n\n<sw-loader v-else-if="!fullyLoaded" />'},"1mCh":function(e,t,n){},"7EBt":function(e,t){e.exports='{% block sw_category_view_tabs_seo %}\n    {% parent %}\n\n    <sw-tabs-item\n        :route="{ name: \'sw.category.detail.note\', params: { id: $route.params.id } }"\n        :title="$tc(\'kzph-simplenote-note.general.tabtitle\')">   \n        {{ $tc(\'kzph-simplenote-note.general.tabtitle\') }} <div ref="kzphSimplenoteBadge" class="kzphSimplenoteBadge">...</div>\n    </sw-tabs-item>\n{% endblock %}'},A4Fz:function(e,t){e.exports='{% block sw_product_detail_content_tabs_advanced_variants %}\n    {% parent %}\n\n    <sw-tabs-item\n                  :route="{ name: \'sw.product.detail.note\', params: { id: $route.params.id } }"\n                  :title="$tc(\'kzph-simplenote-note.general.tabtitle\')">   \n                  {{ $tc(\'kzph-simplenote-note.general.tabtitle\') }} <div ref="kzphSimplenoteBadge" class="kzphSimplenoteBadge">...</div>\n    </sw-tabs-item>\n{% endblock %}'},Ardq:function(e,t){e.exports='{% block sw_dashboard_index_content_info_grid %}\n    {% parent %}\n\n    <div class="sw-dashboard-index__card-headline">\n        <h1>{{ $tc(\'kzph-simplenote-note.general.title\') }}</h1>\n    </div>\n\n    <sw-card position-identifier="kzph-simplenote-dashboard">\n        <template slot="grid">\n            <kzph-simplenote-dashboard/>\n        </template>\n    </sw-card>\n{% endblock %}\n'},CHRc:function(e,t,n){"use strict";n.r(t);var o=n("j2PJ"),i=n.n(o),r=(n("tznD"),Shopware),a=(r.Component,r.Mixin),s=Shopware.Data.Criteria;Shopware.Component.register("kzph-simplenote-note",{template:i.a,inject:["repositoryFactory","userService"],mixins:[a.getByName("notification")],data:function(){return{note:null,items:null,openItems:[],checkedDesktopItems:[],checkedReplicateItems:[],checkedDoneItems:[],checkedItems:[],showButtonForReplicateInOrder:!1,showButtonForShowMessage:!1}},computed:{kzphSimplenoteRepository:function(){return this.repositoryFactory.create("kzph_simplenote")},currentUser:function(){return Shopware.State.get("session").currentUser},getItems:function(){if(this.items)return document.querySelector(".kzphSimplenoteBadge").textContent=this.openItems.length,document.querySelector(".kzphSimplenoteBadge").classList.remove("hasSimplenotes"),this.openItems.length>0&&document.querySelector(".kzphSimplenoteBadge").classList.add("hasSimplenotes"),this.items}},created:function(){this.createdComponent()},methods:{createdComponent:function(){return"customer"!=this.$route.meta.entityType&&"product"!=this.$route.meta.entityType||(this.showButtonForReplicateInOrder=!0,this.showButtonForShowMessage=!0),this.loadItems(),this.items},loadItems:function(){var e=this,t=new s;t.addFilter(s.equals("entityId",this.$route.params.id)),t.addSorting(s.sort("createdAt","desc")),this.kzphSimplenoteRepository.search(t,Shopware.Context.api).then((function(t){e.items=t,e.openItems=[],e.items.forEach((function(t,n){1==t.showDesktop&&e.checkedDesktopItems.push(t.id),1==t.replicateInOrder&&e.checkedReplicateItems.push(t.id),0==t.done&&e.openItems.push(t.id),1==t.done&&e.checkedDoneItems.push(t.id),1==t.showMessage&&e.checkedItems.push(t.id)}))}))},onNoteSaveClick:function(){var e=this;if(null!=this.note&&0!=this.note.length){this.createNotificationSuccess({title:this.$tc("kzph-simplenote-note.general.title"),message:this.$tc("kzph-simplenote-note.general.saved")});var t=this.kzphSimplenoteRepository.create(Shopware.Context.api);t.entityId=this.$route.params.id,t.entityType=this.$route.meta.entityType,t.username=this.currentUser.lastName,t.note=this.note,this.kzphSimplenoteRepository.save(t,Shopware.Context.api).then((function(t){e.loadItems()})),this.note=""}},onNoteShowOnDesktopChange:function(e){var t=this,n=e.target.value,o=e.target.checked;if(n){var i=new s;i.addFilter(s.equals("id",n)),this.kzphSimplenoteRepository.search(i,Shopware.Context.api).then((function(e){e.forEach((function(e){e.showDesktop=1==o?1:0,t.kzphSimplenoteRepository.save(e,Shopware.Context.api)}))}))}},onNotReplicateInOrderChange:function(e){var t=this,n=e.target.value,o=e.target.checked;if(n){var i=new s;i.addFilter(s.equals("id",n)),this.kzphSimplenoteRepository.search(i,Shopware.Context.api).then((function(e){e.forEach((function(e){e.replicateInOrder=1==o?1:0,t.kzphSimplenoteRepository.save(e,Shopware.Context.api)}))}))}},onDoneChange:function(e){var t=this,n=e.target.value,o=e.target.checked;if(n){var i=new s;i.addFilter(s.equals("id",n)),this.kzphSimplenoteRepository.search(i,Shopware.Context.api).then((function(e){e.forEach((function(e){e.done=1==o?1:0,t.kzphSimplenoteRepository.save(e,Shopware.Context.api).then((function(e){t.loadItems()}))}))}))}},onNoteShowMessageChange:function(e){var t=this,n=e.target.value,o=e.target.checked;if(n){var i=new s;i.addFilter(s.equals("id",n)),this.kzphSimplenoteRepository.search(i,Shopware.Context.api).then((function(e){e.forEach((function(e){e.showMessage=1==o?1:0,t.kzphSimplenoteRepository.save(e,Shopware.Context.api)}))}))}},onShowConfirmation:function(e){e.target.parentNode.style.display="none",e.target.parentNode.nextElementSibling.style.display="block"},onDeleteThisNote:function(e){var t=this,n=e.target.dataset.id;n&&(this.onRestoreConfirmation(e),this.kzphSimplenoteRepository.delete(n,Shopware.Context.api).then((function(e){t.createNotificationSuccess({title:t.$tc("kzph-simplenote-note.general.title"),message:t.$tc("kzph-simplenote-note.general.deleted")}),t.loadItems()})))},onRestoreConfirmation:function(e){e.target.parentNode.parentNode.style.display="none",e.target.parentNode.parentNode.previousElementSibling.style.display="block"}}});var p=n("1CRS"),l=n.n(p);function d(e,t,n,o,i,r,a){try{var s=e[r](a),p=s.value}catch(e){return void n(e)}s.done?t(p):Promise.resolve(p).then(o,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function a(e){d(r,o,i,a,s,"next",e)}function s(e){d(r,o,i,a,s,"throw",e)}a(void 0)}))}}var h=Shopware.Component,m=Shopware.Data.Criteria;h.register("kzph-simplenote-dashboard",{template:l.a,inject:["repositoryFactory"],data:function(){return{noteData:[],entityData:[],fullyLoaded:!1,isLoading:!1,isEmpty:!0,page:1,limit:25}},computed:{noteRepository:function(){return this.repositoryFactory.create("kzph_simplenote")},customerRepository:function(){return this.repositoryFactory.create("customer")},productRepository:function(){return this.repositoryFactory.create("product")},orderRepository:function(){return this.repositoryFactory.create("order")},categoryRepository:function(){return this.repositoryFactory.create("category")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){var e=this;this.isLoading=!0,this.fullyLoaded=!1,this.fetchData().then((function(t){e.noteData=[];var n=new Array,o=new Array;o.customer=new Array,o.product=new Array,o.order=new Array,o.category=new Array;var i=0;t.forEach((function(e){var r=new Array;r.id=e.id,r.entityType=e.entityType,r.entityId=e.entityId,r.username=e.username,r.createdAt=e.createdAt,r.note=e.note,r.destination="...",o[e.entityType][i]=e.entityId,n[i]=r,i++,n.total=t.total,n.criteria=t.criteria})),e.noteData.length>0?e.isEmpty=!1:e.isEmpty=!0,0==i&&(e.isLoading=!1,e.fullyLoaded=!0,n.total=0,n.criteria=t.criteria),e.noteData=n,e.entityData=o,e.loadDestinations()}))},fetchData:function(){var e=new m;return e.addFilter(m.equals("showDesktop",1)),e.limit=this.limit,e.setPage(this.page),e.addSorting(m.sort("createdAt","DESC",!1)),this.noteRepository.search(e)},onPageChange:function(e){var t=e.page,n=void 0===t?1:t,o=e.limit,i=void 0===o?25:o;this.page=n,this.limit=i,this.showLoadIndicator(),this.createdComponent()},_loadAndExtendCustomerInformation:function(){var e=this;return c(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=(n=e.entityData).customer.length){t.next=3;break}return t.abrupt("return");case 3:(o=new m).addFilter(m.equalsAny("id",n.customer)),e.customerRepository.search(o).then((function(t){e.showLoadIndicator();var n=new Array;t.forEach((function(e){n[e.id]=e.firstName+" "+e.lastName})),e.noteData.forEach((function(e){var t=e.entityId;void 0!==n[t]&&(e.destination=n[t])})),e.hideLoadIndicator()}));case 6:case"end":return t.stop()}}),t)})))()},_loadAndExtendProductInformation:function(){var e=this;return c(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=(n=e.entityData).product.length){t.next=3;break}return t.abrupt("return");case 3:(o=new m).addFilter(m.equalsAny("id",n.product)),e.productRepository.search(o).then((function(t){e.showLoadIndicator();var n=new Array;t.forEach((function(e){n[e.id]=e.name})),e.noteData.forEach((function(e){var t=e.entityId;void 0!==n[t]&&(e.destination=n[t])})),e.hideLoadIndicator()}));case 6:case"end":return t.stop()}}),t)})))()},_loadAndExtendOrderInformation:function(){var e=this;return c(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=(n=e.entityData).order.length){t.next=3;break}return t.abrupt("return");case 3:(o=new m).addFilter(m.equalsAny("id",n.order)),e.orderRepository.search(o).then((function(t){e.showLoadIndicator();var n=new Array;t.forEach((function(e){n[e.id]=e.orderNumber})),e.noteData.forEach((function(e){var t=e.entityId;void 0!==n[t]&&(e.destination=n[t])})),e.hideLoadIndicator()}));case 6:case"end":return t.stop()}}),t)})))()},_loadAndExtendCategoryInformation:function(){var e=this;return c(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=(n=e.entityData).category.length){t.next=3;break}return t.abrupt("return");case 3:(o=new m).addFilter(m.equalsAny("id",n.category)),e.categoryRepository.search(o).then((function(t){e.showLoadIndicator();var n=new Array;t.forEach((function(e){n[e.id]=e.name})),e.noteData.forEach((function(e){var t=e.entityId;void 0!==n[t]&&(e.destination=n[t])})),e.hideLoadIndicator()}));case 6:case"end":return t.stop()}}),t)})))()},showLoadIndicator:function(){this.isLoading=!0,this.fullyLoaded=!1},hideLoadIndicator:function(){this.isLoading=!1,this.fullyLoaded=!0},loadDestinations:function(){var e=this;return c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e._loadAndExtendCustomerInformation(),e._loadAndExtendProductInformation(),e._loadAndExtendOrderInformation(),e._loadAndExtendCategoryInformation();case 4:case"end":return t.stop()}}),t)})))()},noteColumns:function(){return[{property:"username",label:this.$tc("kzph-simplenote-note.dashboard.username"),primary:!1,allowResize:!0},{property:"entityDestination",label:this.$tc("kzph-simplenote-note.dashboard.destination"),primary:!1,allowResize:!0},{property:"note",label:this.$tc("kzph-simplenote-note.dashboard.note"),primary:!1,allowResize:!0},{property:"createdAt",label:this.$tc("kzph-simplenote-note.dashboard.date"),primary:!1,allowResize:!0}]}}});var u=n("Ardq"),f=n.n(u);Shopware.Component.override("sw-dashboard-index",{template:f.a});var y=n("VQfO"),g=n.n(y),k=Shopware.Component,v=Shopware.Data.Criteria;k.override("sw-order-list",{template:g.a,mounted:function(){this.mountedComponent()},computed:{orderCriteria:function(){var e=this.$super("orderCriteria");return e.addAssociation("kzphSimplenote"),"kzphsimplenote"==this.sortBy&&(e.resetSorting(),e.getAssociation("kzphSimplenote").addSorting(v.sort("createdAt",this.sortDirection)),e.addSorting(v.sort("kzphSimplenote.createdAt",this.sortDirection))),e},listFilters:function(){var e=this.$super("listFilters"),t=this.filterFactory.create("order",{"kzph-simplenote-filter":{property:"kzphSimplenote",label:this.$tc("kzph-simplenote-note.general.title"),placeholder:this.$tc("kzph-simplenote-note.general.filter.placeholder"),optionHasCriteria:this.$tc("kzph-simplenote-note.general.filter.has_notes"),optionNoCriteria:this.$tc("kzph-simplenote-note.general.filter.without_notes")}});return e.push(t[0]),e}},methods:{getOrderColumns:function(){var e=this.$super("getOrderColumns");return e.push({property:"kzphsimplenote",label:"kzph-simplenote-note.general.title",allowResize:!0,primary:!1}),e},mountedComponent:function(){this.defaultFilters.push("kzph-simplenote-filter")}}});var S=n("vben"),w=n.n(S),z=Shopware,C=z.Component,b=z.Utils,_=z.Mixin,x=Shopware.Data,I=(x.EntityCollection,x.Criteria);b.get,b.format,b.array;C.override("sw-order-detail",{template:w.a,mixins:[_.getByName("notification")],inject:["repositoryFactory","orderService","stateStyleDataProviderService","acl","feature"],data:function(){return{items:null,openItems:[]}},computed:{kzphSimplenoteRepository:function(){return this.repositoryFactory.create("kzph_simplenote")}},created:function(){this.createdSimplenoteComponent()},methods:{createdSimplenoteComponent:function(){var e=this,t=new I;t.addFilter(I.equals("entityId",this.$route.params.id)),this.kzphSimplenoteRepository.search(t,Shopware.Context.api).then((function(t){e.items=t,e.items.forEach((function(t,n){0==t.done&&e.openItems.push(t.id)})),document.querySelector(".kzphSimplenoteBadge").textContent=e.openItems.length,document.querySelector(".kzphSimplenoteBadge").classList.remove("hasSimplenotes"),e.openItems.length>0&&document.querySelector(".kzphSimplenoteBadge").classList.add("hasSimplenotes")})),this.orderRepository.get(this.orderId,Shopware.Context.api,this.orderCriteria).then((function(t){e._showEntityNoteMessage(t.orderCustomer.customerId),t.lineItems.forEach((function(t){e._showEntityNoteMessage(t.productId)}))})).catch((function(){}))},_showEntityNoteMessage:function(e){var t=this,n=new I;n.addFilter(I.equals("entityId",e)),n.addFilter(I.equals("showMessage",1)),this.kzphSimplenoteRepository.search(n,Shopware.Context.api).then((function(e){e.forEach((function(e){t.createNotificationWarning({title:t.$tc("kzph-simplenote-note.general.title"),message:e.note})}))}))}}});var $=n("hHzd"),R=n.n($),D=Shopware,E=D.Component,F=D.Mixin,A=Shopware.Data.Criteria;E.override("sw-order-create-details-header",{template:R.a,mixins:[F.getByName("notification")],inject:["repositoryFactory"],computed:{kzphSimplenoteRepository:function(){return this.repositoryFactory.create("kzph_simplenote")}},methods:{onSelectExistingCustomer:function(e){var t=this;if(this.$super("onSelectExistingCustomer",e),e){var n=new A;n.addFilter(A.multi("AND",[A.equals("entityId",e),A.equals("showMessage",1)])),n.addSorting(A.sort("createdAt","desc")),this.kzphSimplenoteRepository.search(n,Shopware.Context.api).then((function(e){e.forEach((function(e){t.createNotificationWarning({title:t.$tc("kzph-simplenote-note.general.title"),message:e.note})}))}))}}}});var N=n("t/Bd"),B=n.n(N),q=Shopware,L=q.Component,T=q.Service,M=q.Mixin,O=Shopware.Data.Criteria;L.override("sw-order-product-select",{template:B.a,mixins:[M.getByName("notification")],computed:{productRepository:function(){return T("repositoryFactory").create("product")},kzphSimplenoteRepository:function(){return T("repositoryFactory").create("kzph_simplenote")}},methods:{onItemChanged:function(e){var t=this;this.$super("onItemChanged",e),this.productRepository.get(e,this.contextWithInheritance).then((function(e){if(e.id){var n=new O;n.addFilter(O.multi("AND",[O.equals("entityId",e.id),O.equals("showMessage",1)])),n.addSorting(O.sort("createdAt","desc")),t.kzphSimplenoteRepository.search(n,Shopware.Context.api).then((function(e){e.forEach((function(e){t.createNotificationWarning({title:t.$tc("kzph-simplenote-note.general.title"),message:e.note})}))}))}}))}}});var P=n("jO34"),j=n.n(P),H=Shopware,U=H.Component,J=(H.Context,Shopware.Data.Criteria);U.override("sw-customer-detail",{template:j.a,inject:["repositoryFactory"],data:function(){return{items:null,openItems:[]}},computed:{kzphSimplenoteRepository:function(){return this.repositoryFactory.create("kzph_simplenote")}},created:function(){this.createdSimplenoteComponent()},methods:{createdSimplenoteComponent:function(){var e=this,t=new J;t.addFilter(J.equals("entityId",this.$route.params.id)),this.kzphSimplenoteRepository.search(t,Shopware.Context.api).then((function(t){e.items=t,e.items.forEach((function(t,n){0==t.done&&e.openItems.push(t.id)})),document.querySelector(".kzphSimplenoteBadge").textContent=e.openItems.length,document.querySelector(".kzphSimplenoteBadge").classList.remove("hasSimplenotes"),e.openItems.length>0&&document.querySelector(".kzphSimplenoteBadge").classList.add("hasSimplenotes")}))}}});var W=n("ez7d"),Z=n.n(W),G=Shopware.Component,Q=Shopware.Data.Criteria;G.override("sw-customer-list",{template:Z.a,mounted:function(){this.mountedComponent()},computed:{defaultCriteria:function(){var e=this.$super("defaultCriteria");return e.addAssociation("kzphSimplenote"),"kzphsimplenote"==this.sortBy&&(e.resetSorting(),e.getAssociation("kzphSimplenote").addSorting(Q.sort("createdAt",this.sortDirection)),e.addSorting(Q.sort("kzphSimplenote.createdAt",this.sortDirection))),e},listFilters:function(){var e=this.$super("listFilters"),t=this.filterFactory.create("order",{"kzph-simplenote-filter":{property:"kzphSimplenote",label:this.$tc("kzph-simplenote-note.general.title"),placeholder:this.$tc("kzph-simplenote-note.general.filter.placeholder"),optionHasCriteria:this.$tc("kzph-simplenote-note.general.filter.has_notes"),optionNoCriteria:this.$tc("kzph-simplenote-note.general.filter.without_notes")}});return e.push(t[0]),e}},methods:{getCustomerColumns:function(){var e=this.$super("getCustomerColumns");return e.push({property:"kzphsimplenote",label:"kzph-simplenote-note.general.title",allowResize:!0,primary:!1}),e},mountedComponent:function(){this.defaultFilters.push("kzph-simplenote-filter")}}});var V=n("A4Fz"),Y=n.n(V),K=Shopware,X=K.Component,ee=(K.Context,Shopware.Data.Criteria);X.override("sw-product-detail",{template:Y.a,inject:["repositoryFactory"],data:function(){return{items:null,openItems:[]}},computed:{kzphSimplenoteRepository:function(){return this.repositoryFactory.create("kzph_simplenote")}},created:function(){this.createdSimplenoteComponent()},methods:{createdSimplenoteComponent:function(){var e=this,t=new ee;t.addFilter(ee.equals("entityId",this.$route.params.id)),this.kzphSimplenoteRepository.search(t,Shopware.Context.api).then((function(t){e.items=t,e.items.forEach((function(t,n){0==t.done&&e.openItems.push(t.id)})),document.querySelector(".kzphSimplenoteBadge").textContent=e.openItems.length,document.querySelector(".kzphSimplenoteBadge").classList.remove("hasSimplenotes"),e.openItems.length>0&&document.querySelector(".kzphSimplenoteBadge").classList.add("hasSimplenotes")}))}}});var te=n("qdpE"),ne=n.n(te),oe=Shopware.Component,ie=Shopware.Data.Criteria;oe.override("sw-product-list",{template:ne.a,mounted:function(){this.mountedComponent()},computed:{productCriteria:function(){var e=this.$super("productCriteria");return e.addAssociation("kzphSimplenote"),"kzphsimplenote"==this.sortBy&&(e.resetSorting(),e.getAssociation("kzphSimplenote").addSorting(ie.sort("createdAt",this.sortDirection)),e.addSorting(ie.sort("kzphSimplenote.createdAt",this.sortDirection))),e},listFilters:function(){var e=this.$super("listFilters"),t=this.filterFactory.create("order",{"kzph-simplenote-filter":{property:"kzphSimplenote",label:this.$tc("kzph-simplenote-note.general.title"),placeholder:this.$tc("kzph-simplenote-note.general.filter.placeholder"),optionHasCriteria:this.$tc("kzph-simplenote-note.general.filter.has_notes"),optionNoCriteria:this.$tc("kzph-simplenote-note.general.filter.without_notes")}});return e.push(t[0]),e}},methods:{getProductColumns:function(){var e=this.$super("getProductColumns");return e.push({property:"kzphsimplenote",label:"kzph-simplenote-note.general.title",allowResize:!0,primary:!1}),e},mountedComponent:function(){this.defaultFilters.push("kzph-simplenote-filter")}}});var re=n("7EBt"),ae=n.n(re),se=Shopware,pe=se.Component,le=(se.Context,Shopware.Data.Criteria);pe.override("sw-category-view",{template:ae.a,inject:["repositoryFactory"],data:function(){return{items:null,openItems:[]}},computed:{kzphSimplenoteRepository:function(){return this.repositoryFactory.create("kzph_simplenote")}},created:function(){this.createdSimplenoteComponent()},methods:{createdSimplenoteComponent:function(){var e=this,t=new le;t.addFilter(le.equals("entityId",this.$route.params.id)),this.kzphSimplenoteRepository.search(t,Shopware.Context.api).then((function(t){e.items=t,e.items.forEach((function(t,n){0==t.done&&e.openItems.push(t.id)})),document.querySelector(".kzphSimplenoteBadge").textContent=e.openItems.length,document.querySelector(".kzphSimplenoteBadge").classList.remove("hasSimplenotes"),e.openItems.length>0&&document.querySelector(".kzphSimplenoteBadge").classList.add("hasSimplenotes")}))}}});n("0MhZ"),n("Yawi");Shopware.Module.register("kzph-simplenote-tab-note",{routeMiddleware:function(e,t){"sw.order.detail"===t.name&&t.children.push({name:"sw.order.detail.note",isChildren:!0,path:"/sw/order/detail/:id/note",component:"kzph-simplenote-note",meta:{parentPath:"sw.order.index",entityType:"order"}}),"sw.customer.detail"===t.name&&t.children.push({name:"sw.customer.detail.note",isChildren:!0,path:"/sw/customer/detail/:id/note",component:"kzph-simplenote-note",meta:{parentPath:"sw.customer.index",entityType:"customer"}}),"sw.product.detail"===t.name&&t.children.push({name:"sw.product.detail.note",isChildren:!0,path:"/sw/product/detail/:id/note",component:"kzph-simplenote-note",meta:{parentPath:"sw.product.index",entityType:"product"}}),"sw.category.detail"===t.name&&t.children.push({name:"sw.category.detail.note",path:"/sw/category/index/:id/note",component:"kzph-simplenote-note",meta:{parentPath:"sw.category.index",entityType:"category"}}),e(t)}})},SZ7m:function(e,t,n){"use strict";function o(e,t){for(var n=[],o={},i=0;i<t.length;i++){var r=t[i],a=r[0],s={id:e+":"+i,css:r[1],media:r[2],sourceMap:r[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}n.r(t),n.d(t,"default",(function(){return u}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},a=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,p=0,l=!1,d=function(){},c=null,h="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function u(e,t,n,i){l=n,c=i||{};var a=o(e,t);return f(a),function(t){for(var n=[],i=0;i<a.length;i++){var s=a[i];(p=r[s.id]).refs--,n.push(p)}t?f(a=o(e,t)):a=[];for(i=0;i<n.length;i++){var p;if(0===(p=n[i]).refs){for(var l=0;l<p.parts.length;l++)p.parts[l]();delete r[p.id]}}}}function f(e){for(var t=0;t<e.length;t++){var n=e[t],o=r[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(g(n.parts[i]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(g(n.parts[i]));r[n.id]={id:n.id,refs:1,parts:a}}}}function y(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function g(e){var t,n,o=document.querySelector("style["+h+'~="'+e.id+'"]');if(o){if(l)return d;o.parentNode.removeChild(o)}if(m){var i=p++;o=s||(s=y()),t=S.bind(null,o,i,!1),n=S.bind(null,o,i,!0)}else o=y(),t=w.bind(null,o),n=function(){o.parentNode.removeChild(o)};return t(e),function(o){if(o){if(o.css===e.css&&o.media===e.media&&o.sourceMap===e.sourceMap)return;t(e=o)}else n()}}var k,v=(k=[],function(e,t){return k[e]=t,k.filter(Boolean).join("\n")});function S(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=v(t,i);else{var r=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function w(e,t){var n=t.css,o=t.media,i=t.sourceMap;if(o&&e.setAttribute("media",o),c.ssrId&&e.setAttribute(h,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},VQfO:function(e,t){e.exports='{% block sw_order_list_grid_columns %}\n    {% parent %}\n\n    {% block sw_order_list_grid_columns_kzphsimplenote %}\n        <template #column-kzphsimplenote="{ item }">\n          <sw-label appearance="pill"\n            v-tooltip="item.extensions.kzphSimplenote.first().note"\n            v-if="item.extensions.kzphSimplenote.length > 0">\n            {{item.extensions.kzphSimplenote.length}} {{$tc(\'kzph-simplenote-note.general.title\')}}\n          </sw-label>\n        </template>\n    {% endblock %}\n{% endblock %}'},Yawi:function(e){e.exports=JSON.parse("{}")},ez7d:function(e,t){e.exports='{% block sw_customer_list_grid_columns %}\n    {% parent %}\n\n    {% block sw_customer_list_grid_columns_kzphsimplenote %}\n        <template #column-kzphsimplenote="{ item }">\n          <sw-label appearance="pill"\n            v-tooltip="item.extensions.kzphSimplenote.first().note"\n            v-if="item.extensions.kzphSimplenote.length > 0">\n            {{item.extensions.kzphSimplenote.length}} {{$tc(\'kzph-simplenote-note.general.title\')}}\n          </sw-label>\n        </template>\n    {% endblock %}\n{% endblock %}'},hHzd:function(e,t){e.exports="{% block sw_order_create_details_header %}\n    {% parent %}\n{% endblock %}"},j2PJ:function(e,t){e.exports='{% block kzph_simplenote_note_card %}\n<sw-card :title="$tc(\'kzph-simplenote-note.general.title\')">\n    <sw-textarea-field type="textarea" v-model="note" :label="$tc(\'kzph-simplenote-note.general.tabtitle\')" :placeholder="$tc(\'kzph-simplenote-note.general.enter_your_notice\')"></sw-textarea-field>\n\n    <sw-button :disabled="false" :square="false" :block="false" :isLoading="false" @click="onNoteSaveClick">\n        {{ $tc(\'kzph-simplenote-note.general.save\') }}\n    </sw-button>\n\n    <template>\n        <div class="kzphSimplenoteSpacer" v-if="items && items.length > 0">\n            <span></span>\n        </div>\n\n        <div v-for="(value, name, index) in getItems">\n            <div class="kzphSimplenoteElement">\n                <div class="kzphSimplenoteElementHeadline">\n                    <div class="kzphSimplenoteElementHeadlineAuthorName">\n                        {{ value.username }}\n                    </div>\n                    <div class="kzphSimplenoteElementHeadlineDoneBox">\n                        {{ $tc(\'kzph-simplenote-note.general.done\') }} <input type="checkbox" v-model="checkedDoneItems" :value="value.id" @change="onDoneChange" />\n                    </div>\n                    <div class="kzphSimplenoteClear"></div>\n                </div>\n\n                <div class="kzphSimplenoteElementAuthor">{{ value.createdAt|date(\'d.m.y\') }}</div>\n                <div class="kzphSimplenoteElementDashboard">{{ $tc(\'kzph-simplenote-note.general.show_on_dashboard\') }} <input type="checkbox" v-model="checkedDesktopItems" :value="value.id" @change="onNoteShowOnDesktopChange" /></div>\n                <div class="kzphSimplenoteElementReplicateInOrder" v-if="showButtonForReplicateInOrder">{{ $tc(\'kzph-simplenote-note.general.replicate_in_order\') }} <input type="checkbox" v-model="checkedReplicateItems" :value="value.id" @change="onNotReplicateInOrderChange" /></div>\n                <div class="kzphSimplenoteElementInform" v-if="showButtonForShowMessage">{{ $tc(\'kzph-simplenote-note.general.show_message_on_new_order\') }} <input type="checkbox" v-model="checkedItems" :value="value.id" @change="onNoteShowMessageChange" /></div>\n                \n\n                <div class="kzphSimplenoteElementText"><pre>{{ value.note }}</pre></div>\n            </div>\n\n            <div class="kzphSimplenoteElementDeleteNote kzphSimplenoteElementDeleteNoteShowConfirmation"><div class="kzphSimplenoteElementDeleteNoteBtn" @click="onShowConfirmation">{{ $tc(\'kzph-simplenote-note.general.delete_note\') }}</div></div>\n            <div class="kzphSimplenoteElementDeleteConfirm">\n                <div class="kzphSimplenoteElementDeleteNote">{{ $tc(\'kzph-simplenote-note.general.delete_note_confirm\') }} <div class="kzphSimplenoteElementDeleteNoteBtn" :data-id="value.id" @click="onDeleteThisNote">{{ $tc(\'kzph-simplenote-note.general.delete_note_yes\') }}</div> || <div class="kzphSimplenoteElementDeleteNoteBtn" @click="onRestoreConfirmation">{{ $tc(\'kzph-simplenote-note.general.delete_note_no\') }}</div></div>\n            </div>\n        </div>\n\n    </template>\n\n</sw-card>\n{% endblock %}'},jO34:function(e,t){e.exports='{% block sw_customer_detail_content_tab_order %}\n    {% parent %}\n\n    <sw-tabs-item\n                  :route="{ name: \'sw.customer.detail.note\', params: { id: $route.params.id } }"\n                  :title="$tc(\'kzph-simplenote-note.general.tabtitle\')">   \n                  {{ $tc(\'kzph-simplenote-note.general.tabtitle\') }} <div ref="kzphSimplenoteBadge" class="kzphSimplenoteBadge">...</div>\n    </sw-tabs-item>\n{% endblock %}'},qdpE:function(e,t){e.exports='{% block sw_product_list_grid_columns %}\n    {% parent %}\n\n    {% block sw_product_list_grid_columns_kzphsimplenote %}\n        <template #column-kzphsimplenote="{ item }">\n          <sw-label appearance="pill"\n            v-tooltip="item.extensions.kzphSimplenote.first().note"\n            v-if="item.extensions.kzphSimplenote.length > 0">\n            {{item.extensions.kzphSimplenote.length}} {{$tc(\'kzph-simplenote-note.general.title\')}}\n          </sw-label>\n        </template>\n    {% endblock %}\n{% endblock %}'},"t/Bd":function(e,t){e.exports="{% block sw_order_product_select %}\n{% parent %}\n{% endblock %}\n"},tznD:function(e,t,n){var o=n("1mCh");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("SZ7m").default)("5cbf655f",o,!0,{})},vben:function(e,t){e.exports='{% block sw_order_detail_content_tabs_general %}\n    {% parent %}\n\n    <sw-tabs-item\n                  :route="{ name: \'sw.order.detail.note\', params: { id: $route.params.id } }"\n                  :title="$tc(\'kzph-simplenote-note.general.tabtitle\')">   \n                  {{ $tc(\'kzph-simplenote-note.general.tabtitle\') }} <div ref="kzphSimplenoteBadge" class="kzphSimplenoteBadge">...</div>\n    </sw-tabs-item>\n{% endblock %}'}});