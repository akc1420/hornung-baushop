/*
    _____ _                __      __
   |_   _| |_  ___ _ __  __\ \    / /_ _ _ _ ___  (R)
     | | | ' \/ -_) '  \/ -_) \/\/ / _` | '_/ -_)
     |_| |_||_\___|_|_|_\___|\_/\_/\__,_|_| \___|

    Copyright (c) TC-Innovations GmbH

    ThemeWare: Button
    ==============================================
    Custom skin styling for bootstrap button component.
    https://getbootstrap.com/docs/4.3/components/buttons/

    Origin: Shopware skin
*/

// ThemeWare: Customize primary button
// Shopware: $primary: $sw-color-brand-primary !default;
@if $twt-color-primary-button != $sw-color-brand-primary {
  .btn-primary {
    @include button-variant($twt-color-primary-button, $twt-color-primary-button);

    // see storefront/src/scss/component/_icon.scss
    .icon {
      color: color-yiq($twt-color-primary-button);
    }
  }
}

// ThemeWare: Customize secondary button
// Shopware: $secondary: $sw-color-brand-secondary !default;
@if $twt-color-secondary-button != $sw-color-brand-secondary {
  .btn-secondary {
    @include button-variant($twt-color-secondary-button, $twt-color-secondary-button);

    // see storefront/src/scss/component/_icon.scss
    .icon {
      color: color-yiq($twt-color-secondary-button);
    }
  }
}

// ThemeWare: Customize light button
// Bootstrap: --light: #f8f9fa;
// Shopware: --light: #f9f9f9;
// $gray-100: #f9f9f9 !default;
// $light: $gray-100 !default;
@if $twt-color-light-button != "#f9f9f9" {
  .btn-light {
    @include button-variant($twt-color-light-button, $twt-color-light-button);

    // see storefront/src/scss/component/_icon.scss
    .icon {
      color: color-yiq($twt-color-light-button);
    }
  }
}

// ThemeWare: Customize details button
// Bootstrap: --light: #f8f9fa;
// Shopware: --light: #f9f9f9;
// $gray-100: #f9f9f9 !default;
// $light: $gray-100 !default;
.product-action {
  .btn-light {
    @extend .btn-lg; // ThemeWare: Align size with buy-btn

    @if $twt-color-details-button != "#f9f9f9" {
      @include button-variant($twt-color-details-button, $twt-color-details-button);
    }
  }
}

// ThemeWare: Cart button with icon
@if $twt-product-box-btn-buy-layout != 1 {
  .product-box {
    .btn-buy {
      // Position: right
      @if $twt-product-box-btn-buy-icon-position == 2 {
        overflow: inherit;
      }

      // @deprecated tag:v6.5.0
      color: $buy-btn-color; // Fix color in SW 6.4.18

      .icon {
        color: inherit; // Fix icon color on buy buttons

        &.icon-bag,
        &.icon-bag,
        &.icon-cart {
          // Adjust spacing
          @if ($twt-iconset == "default") or ($twt-iconset == "sw6") {
            @if $twt-product-box-btn-buy-icon-position == 1 {
              // Position: left
              margin-right: 3px;
            } @else {
              // Position: right
              margin-left: 3px;
            }
          }
        }

        //&.icon-bag {}
        //&.icon-basket {}
        //&.icon-cart {}

        > svg {
          @if $twt-product-box-btn-buy-icon-position == 1 {
            // Position: left
            top: 4px;
          } @else {
            // Position: right
            top: 5px;
          }
        }
      }

      // Position: right
      @if $twt-product-box-btn-buy-icon-position == 2 {
        .text {
          white-space: nowrap;
          text-overflow: ellipsis;
          max-width: calc(100% - 25px);
          display: inline-block;
          vertical-align: bottom;
          overflow: hidden;
        }
      }
    }
  }
}

// ThemeWare: Cart button with icon
@if $twt-product-detail-btn-buy-layout != 1 {
  .product-detail-buy {
    .btn-buy {
      // Position: right
      @if $twt-product-detail-btn-buy-icon-position == 2 {
        overflow: inherit;
      }

      .icon {
        color: inherit; // Fix icon color on buy buttons

        &.icon-bag,
        &.icon-bag,
        &.icon-cart {
          // Adjust spacing
          @if ($twt-iconset == "default") or ($twt-iconset == "sw6") {
            @if $twt-product-detail-btn-buy-icon-position == 1 {
              // Position: left
              margin-right: 3px;
            } @else {
              // Position: right
              margin-left: 3px;
            }
          }
        }

        //&.icon-bag {}
        //&.icon-basket {}
        //&.icon-cart {}

        > svg {
          @if $twt-product-detail-btn-buy-icon-position == 1 {
            // Position: left
            top: 4px;
          } @else {
            // Position: right
            top: 5px;
          }
        }
      }

      // Position: right
      @if $twt-product-detail-btn-buy-icon-position == 2 {
        .text {
          white-space: nowrap;
          text-overflow: ellipsis;
          max-width: calc(100% - 25px);
          display: inline-block;
          vertical-align: bottom;
          overflow: hidden;
        }
      }
    }
  }
}